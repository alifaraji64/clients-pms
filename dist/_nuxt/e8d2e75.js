(window.webpackJsonp=window.webpackJsonp||[]).push([[7,2,3],{274:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(65);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={name:"TheNavigation",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.b)({authState:function(t){return t.authentication.loggedIn}})),methods:{proceedToLogout:function(){this.$store.commit("authentication/signOut",!1)}}},v=n(57),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"navbar navbar-light navbar-expand-md"},[o("div",{staticClass:"container-fluid"},[o("nuxt-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[o("img",{staticStyle:{height:"45px"},attrs:{src:n(277)}})]),t._m(0),t._v(" "),o("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navcol-1"}},[o("ul",{staticClass:"nav navbar-nav"},[o("li",{staticClass:"nav-item"},[o("nuxt-link",{staticClass:"nav-link active",attrs:{to:"/clients"}},[t._v("Clients")])],1),t._v(" "),o("li",{staticClass:"nav-item"},[o("nuxt-link",{staticClass:"nav-link",attrs:{to:"/invoices"}},[t._v("Invoices")])],1),t._v(" "),o("li",{staticClass:"nav-item"},[o("nuxt-link",{staticClass:"nav-link",attrs:{to:"#"}},[t._v("Payments")])],1),t._v(" "),o("li",{staticClass:"nav-item"},[o("nuxt-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Log Out")])],1)])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#navcol-1"}},[e("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),e("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,"826ea4e4",null);e.default=component.exports},275:function(t,e,n){"use strict";n.r(e);var o={name:"TheFooter"},r=n(57),component=Object(r.a)(o,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"25px"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("footer",[e("p",{staticClass:"text-center text-black-50"},[this._v("Payment Management System")])])])])])])}],!1,null,"0ebe5d36",null);e.default=component.exports},276:function(t,e,n){"use strict";n.r(e);var o={name:"TheTitleAndSearchBar",props:{pageName:{type:String,required:!0},listPath:{type:String,required:!0},createPath:{type:String,required:!0}}},r=n(57),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{background:"#e8e8e8","margin-bottom":"25px"}},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row",staticStyle:{"padding-top":"5px","padding-bottom":"5px"}},[e("div",{staticClass:"col-12 col-sm-6 col-md-6"},[e("label",{staticClass:"col-form-label text-secondary"},[this._v(this._s(this.pageName))])]),this._v(" "),e("div",{staticClass:"col-12 col-sm-6 col-md-6 d-flex d-sm-flex d-xl-flex justify-content-end justify-content-sm-end justify-content-xl-end"},[this._m(0),e("nuxt-link",{staticClass:"btn btn-outline-secondary",staticStyle:{margin:"0 10px 0 0"},attrs:{role:"button",to:this.listPath}},[e("i",{staticClass:"fa fa-list-alt"})]),e("nuxt-link",{staticClass:"btn btn-outline-secondary",attrs:{role:"button",to:this.createPath}},[e("i",{staticClass:"fa fa-plus"})])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group",staticStyle:{margin:"0 10px 0 0"}},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Search")])]),e("input",{staticClass:"form-control",attrs:{type:"text"}}),this._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[e("i",{staticClass:"fa fa-search"})])])])}],!1,null,"086d2304",null);e.default=component.exports},277:function(t,e,n){t.exports=n.p+"img/emblem.18ad6c5.png"},282:function(t,e,n){"use strict";n.r(e);n(16),n(23);var o=n(0),r=n(274),l=n(276),c=n(275),v=n(65);function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,r=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={components:{TheNavigation:r.default,TheTitleAndSearchBar:l.default,TheFooter:c.default},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(v.b)({clients:function(t){return t.clients.list},invoices:function(t){return t.invoices.list},authenticatedUser:function(t){return t.authentication.loggedIn}})),data:function(){return{invNumber:"",invoice:{number:"",customer:"",startDate:"",dueDate:"",amount:"",balance:"",total:0,paid:0,due:0},items:[{name:"item 1"},{name:"item 2"},{name:"item 3"}],detailLines:[],paymentLines:[],detailObj:{item:"",rate:0,qty:0,lineTotal:0},paymentObj:{date:"",paymentType:"",lineTotal:0},invSubTotal:0}},created:function(){this.authenticatedUser||this.$router.push("/login")},mounted:function(){this.invNumber=this.getInvNumber()},methods:{getInvNumber:function(){return(new Date).getFullYear().toString()+Math.ceil((new Date).getMilliseconds()*Math.random()).toString()},calculateDetailLineTotal:function(){this.detailObj.lineTotal=this.detailObj.rate*this.detailObj.qty},addNewItemLine:function(){this.detailObj.lineTotal>0&&(this.detailLines.push(this.detailObj),this.calculateInvSubTotal(),this.detailObj={item:"",rate:"",qty:"",lineTotal:""})},calculateInvSubTotal:function(){if(this.invSubTotal=0,this.invoice.total=0,this.detailLines.length>0){console.log(this.detailLines);var t,e=d(this.detailLines);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.invSubTotal+=parseFloat(n.lineTotal),this.invoice.total+=parseFloat(n.lineTotal),this.invoice.due=parseFloat(this.invoice.total)-parseFloat(this.invoice.paid)}}catch(t){e.e(t)}finally{e.f()}}else this.invSubTotal+=parseFloat(this.detailObj.lineTotal),this.invoice.total+=parseFloat(this.detailObj.lineTotal),this.invoice.due=parseFloat(this.invoice.total)-parseFloat(this.invoice.paid)},addNewPaymentLine:function(){this.paymentObj.lineTotal>0&&(this.paymentLines.push(this.paymentObj),this.calculatePaymentTotal(),this.paymentObj={date:"",paymentType:"",lineTotal:0})},calculatePaymentTotal:function(){if(this.invoice.paid=0,this.paymentLines.length>0){var t,e=d(this.paymentLines);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.invoice.paid+=parseFloat(n.lineTotal)}}catch(t){e.e(t)}finally{e.f()}this.invoice.due=parseFloat(this.invoice.total)-parseFloat(this.invoice.paid)}else this.invoice.paid+=parseFloat(this.paymentObj.lineTotal),this.invoice.due=parseFloat(this.invoice.total)-parseFloat(this.invoice.paid)},addInvoice:function(){this.invoice.total>0&&""!==this.invoice.dueDate&&this.detailLines.length>0&&this.paymentLines.length>0&&(this.invoice.number=this.invNumber,this.invoice.amount="MVR "+this.invoice.total.toString(),this.invoice.balance="MVR "+this.invoice.due.toString(),this.$store.commit("invoices/addInvoice",this.invoice),this.invoice={number:"",customer:"",startDate:"",dueDate:"",amount:"",balance:"",total:0,paid:0,due:0},this.detailLines=[],this.paymentLines=[],this.invSubTotal=0,this.invNumber=this.getInvNumber(),alert("Added new invoice!"))}}},_=n(57),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"new-invoice-page"}},[n("TheNavigation"),t._v(" "),n("TheTitleAndSearchBar",{attrs:{pageName:"New Invoice",listPath:"/invoices",createPath:"/invoices/create"}}),t._v(" "),n("div",{staticClass:"page-content"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("form",[n("div",{staticClass:"form-row",staticStyle:{padding:"24px"}},[n("div",{staticClass:"col-md-5 col-xl-3"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Select Client")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.invoice.customer,expression:"invoice.customer"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.invoice,"customer",e.target.multiple?n:n[0])}}},t._l(t.clients,(function(e,o){return n("option",{key:o,domProps:{value:e.name}},[t._v(t._s(e.name)+"\n                    ")])})),0)]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("Start Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.startDate,expression:"invoice.startDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.invoice.startDate},on:{input:function(e){e.target.composing||t.$set(t.invoice,"startDate",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("End Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.invoice.dueDate,expression:"invoice.dueDate"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.invoice.dueDate},on:{input:function(e){e.target.composing||t.$set(t.invoice,"dueDate",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"col-md-1 col-xl-2"}),t._v(" "),n("div",{staticClass:"col-md-1 col-xl-2"}),t._v(" "),n("div",{staticClass:"col-md-5 col-xl-5 form-column-shaped"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",[n("tr",[n("td",[t._m(1),n("label",[t._v(t._s(t.invNumber))])])]),t._v(" "),n("tr",[n("td",[t._m(2),n("label",[t._v(t._s(t.invSubTotal)+".00")])])]),t._v(" "),t._m(3),t._v(" "),n("tr",[n("td",[t._m(4),n("label",[t._v(t._s(t.invoice.total)+".00")])])]),t._v(" "),n("tr",[n("td",[t._m(5),n("label",[t._v(t._s(t.invoice.paid)+".00")])])]),t._v(" "),n("tr",[n("td",[t._m(6),n("label",[t._v(t._s(t.invoice.due)+".00")])])])])])])])]),t._v(" "),t._m(7),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col form-column-shaped"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[t._m(8),t._v(" "),n("tbody",[t._l(t.detailLines,(function(e,o){return n("tr",{directives:[{name:"show",rawName:"v-show",value:t.detailLines.length>0,expression:"detailLines.length > 0"}],key:o},[n("td",[n("select",{staticClass:"form-control"},[n("optgroup",{attrs:{label:"This is a group"}},t._l(t.items,(function(o,r){return n("option",{key:r,domProps:{value:o.name,selected:e.item===o.name}},[t._v(t._s(o.name)+"\n                            ")])})),0)])]),t._v(" "),n("td",[n("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:e.rate}})]),t._v(" "),n("td",[n("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:e.qty}})]),t._v(" "),n("td",[n("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:e.lineTotal}})])])})),t._v(" "),n("tr",[n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.detailObj.item,expression:"detailObj.item"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.detailObj,"item",e.target.multiple?n:n[0])}}},[n("optgroup",{attrs:{label:"This is a group"}},t._l(t.items,(function(e,o){return n("option",{key:o,domProps:{value:e.name}},[t._v(t._s(e.name)+"\n                            ")])})),0)])]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.detailObj.rate,expression:"detailObj.rate"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.detailObj.rate},on:{keyup:t.calculateDetailLineTotal,input:function(e){e.target.composing||t.$set(t.detailObj,"rate",e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.detailObj.qty,expression:"detailObj.qty"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.detailObj.qty},on:{keyup:t.calculateDetailLineTotal,input:function(e){e.target.composing||t.$set(t.detailObj,"qty",e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.detailObj.lineTotal,expression:"detailObj.lineTotal"}],staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:t.detailObj.lineTotal},on:{input:function(e){e.target.composing||t.$set(t.detailObj,"lineTotal",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addNewItemLine(e)}}},[n("i",{staticClass:"fa fa-plus-square-o"}),t._v(" add new line\n                        ")])]),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td")])],2)])])])]),t._v(" "),t._m(9),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"col form-column-shaped"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[t._m(10),t._v(" "),n("tbody",[t._l(t.paymentLines,(function(line,e){return n("tr",{directives:[{name:"show",rawName:"v-show",value:t.paymentLines.length>0,expression:"paymentLines.length > 0"}],key:e},[n("td",[n("input",{staticClass:"form-control",attrs:{type:"text",readonly:""},domProps:{value:line.date}})]),t._v(" "),n("td",[n("select",{staticClass:"form-control"},[n("option",{attrs:{value:"Bank Transfer"},domProps:{selected:"Bank Transfer"===line.paymentType}},[t._v("Bank Transfer")]),t._v(" "),n("option",{attrs:{value:"Cash"},domProps:{selected:"Cash"===line.paymentType}},[t._v("Cash")])])]),t._v(" "),n("td",[n("input",{staticClass:"form-control",attrs:{type:"number",readonly:""},domProps:{value:line.lineTotal}})])])})),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentObj.date,expression:"paymentObj.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.paymentObj.date},on:{input:function(e){e.target.composing||t.$set(t.paymentObj,"date",e.target.value)}}})]),t._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.paymentObj.paymentType,expression:"paymentObj.paymentType"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.paymentObj,"paymentType",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"Bank Transfer"}},[t._v("Bank Transfer")]),t._v(" "),n("option",{attrs:{value:"Cash"}},[t._v("Cash")])])]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentObj.lineTotal,expression:"paymentObj.lineTotal"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.paymentObj.lineTotal},on:{input:function(e){e.target.composing||t.$set(t.paymentObj,"lineTotal",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[n("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addNewPaymentLine(e)}}},[n("i",{staticClass:"fa fa-plus-square-o"}),t._v(" add new line\n                        ")])]),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td")])],2)])])])]),t._v(" "),n("div",{staticClass:"form-row mt-5"},[n("button",{staticClass:"btn btn-success btn-large",on:{click:function(e){return e.preventDefault(),t.addInvoice(e)}}},[t._v("Save Invoice")])])])])])])]),t._v(" "),n("TheFooter")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Invoice Number ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Sub Total ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("label",[e("strong",[this._v("Fine ")])]),e("label",[this._v("00.00"),e("small")]),this._v(" "),e("div",[e("small",[this._v("MVR 5.00 will be added if not paid before 10th of the month")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Total ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Paid  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("strong",[this._v("Due Total   ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-row"},[e("div",{staticClass:"col"},[e("h3",{staticStyle:{"font-family":"'Abhaya Libre', serif","font-weight":"100"}},[this._v("Details")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Description")]),this._v(" "),e("th",[this._v("Rate")]),this._v(" "),e("th",[this._v("Qty")]),this._v(" "),e("th",[this._v("Line Total")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-row",staticStyle:{"margin-top":"50px"}},[e("div",{staticClass:"col"},[e("h3",{staticStyle:{"font-family":"'Abhaya Libre', serif","font-weight":"100"}},[this._v("All Payments for the Invoice")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Date")]),this._v(" "),e("th",[this._v("Type")]),this._v(" "),e("th",[this._v("Line Total")])])])}],!1,null,"17ae1187",null);e.default=component.exports;installComponents(component,{TheNavigation:n(274).default,TheTitleAndSearchBar:n(276).default,TheFooter:n(275).default})}}]);